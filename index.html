<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Rádios e Seleções</title>
  <link rel="icon" href="https://utilitea.github.io/som/radio.png">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap">
  <style>
    :root {
      --primary-color: #007BFF;
      --secondary-color: #673AB7;
      --background-color: #121212;
      --surface-color: #1E1E1E;
      --text-color: #FFFFFF;
      --text-secondary-color: #B0B0B0;
      --accent-color: #03DAC6;
    }

    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
      font-family: 'Roboto', sans-serif;
      color: var(--text-color);
    }

    body {
      background-color: var(--background-color);
      display: flex;
      flex-direction: column;
      align-items: center;
      padding: 20px;
      min-height: 100vh;
    }

    header {
      width: 100%;
      text-align: center;
      margin-bottom: 30px;
    }

    header h1 {
      font-size: clamp(1.5rem, 6vw, 2.5rem);
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;
      width: 100%;
      text-align: center;
      line-height: 1.2;
    }

    .search-container {
      width: 100%;
      max-width: 600px;
      margin-bottom: 20px;
    }

    .search-container input {
      width: 100%;
      padding: 10px;
      border-radius: 5px;
      border: 1px solid var(--text-secondary-color);
      background-color: var(--surface-color);
      color: var(--text-color);
    }

    .player-container {
      background-color: var(--surface-color);
      border-radius: 15px;
      padding: 20px;
      width: 100%;
      max-width: 600px;
      box-shadow: 0 8px 16px rgba(0, 0, 0, 0.2);
      margin-bottom: 30px;
      display: flex;
      flex-direction: column;
      align-items: center;
    }

    .current-playing {
      display: flex;
      flex-direction: column;
      align-items: center;
      margin-bottom: 20px;
      width: 100%;
    }

    .current-playing img {
      width: 80px;
      height: 80px;
      border-radius: 10px;
      object-fit: cover;
      margin-bottom: 10px;
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3);
    }

    .current-playing-info {
      text-align: center;
    }

    .current-playing-info h2 {
      font-size: 1.5em;
      margin-bottom: 5px;
    }

    .current-playing-info p {
      font-size: 1em;
    }

    .progress-bar {
      width: 100%;
      max-width: 400px;
      margin-top: 10px;
    }

    .progress-bar input[type="range"] {
      width: 100%;
      -webkit-appearance: none;
      appearance: none;
      height: 5px;
      background: var(--text-secondary-color);
      border-radius: 5px;
      outline: none;
      opacity: 0.7;
      transition: opacity .2s;
      cursor: pointer;
    }

    .progress-bar input[type="range"]:hover {
      opacity: 1;
    }

    .progress-bar input[type="range"]::-webkit-slider-thumb {
      -webkit-appearance: none;
      appearance: none;
      width: 15px;
      height: 15px;
      background: var(--primary-color);
      border-radius: 50%;
      cursor: pointer;
    }

    .progress-bar input[type="range"]::-moz-range-thumb {
      width: 15px;
      height: 15px;
      background: var(--primary-color);
      border-radius: 50%;
      cursor: pointer;
    }

    .player-controls {
      display: flex;
      align-items: center;
      justify-content: center;
      width: 100%;
      margin-bottom: 15px;
    }

    .player-controls button {
      background: none;
      border: none;
      cursor: pointer;
      padding: 10px;
      display: flex;
      align-items: center;
      justify-content: center;
      transition: transform 0.2s ease-in-out;
    }

    .player-controls button svg {
      width: 24px;
      height: 24px;
      fill: var(--text-color);
    }

    .player-controls button:hover {
      transform: scale(1.1);
    }

    .player-controls button:disabled svg {
      fill: var(--text-secondary-color);
      cursor: not-allowed;
    }

    .volume-control {
      display: flex;
      align-items: center;
      justify-content: center;
      width: 100%;
      max-width: 200px;
      margin-bottom: 15px;
    }

    .volume-control svg {
      width: 24px;
      height: 24px;
      fill: var(--text-color);
      margin-right: 10px;
    }

    .volume-control input[type="range"] {
      flex-grow: 1;
      -webkit-appearance: none;
      appearance: none;
      width: 100%;
      height: 5px;
      background: var(--text-secondary-color);
      border-radius: 5px;
      outline: none;
      opacity: 0.7;
      transition: opacity .2s;
      cursor: pointer;
    }

    .volume-control input[type="range"]:hover {
      opacity: 1;
    }

    .volume-control input[type="range"]::-webkit-slider-thumb {
      -webkit-appearance: none;
      appearance: none;
      width: 15px;
      height: 15px;
      background: var(--primary-color);
      border-radius: 50%;
      cursor: pointer;
    }

    .volume-control input[type="range"]::-moz-range-thumb {
      width: 15px;
      height: 15px;
      background: var(--primary-color);
      border-radius: 50%;
      cursor: pointer;
    }

    .wave {
      display: flex;
      gap: 4px;
      height: 30px;
      align-items: flex-end;
      margin-left: 15px;
    }

    .bar {
      width: 4px;
      background: var(--primary-color);
      height: 5px;
      animation: none;
    }

    @keyframes equalizer {
      0% { height: 5px; background: var(--primary-color); }
      25% { height: 25px; background: var(--accent-color); }
      50% { height: 15px; background: var(--secondary-color); }
      75% { height: 20px; background: #FFC107; }
      100% { height: 5px; background: var(--primary-color); }
    }

    .playing .bar:nth-child(1) { animation: equalizer 0.8s infinite alternate ease-in-out; }
    .playing .bar:nth-child(2) { animation: equalizer 0.6s infinite alternate ease-in-out; }
    .playing .bar:nth-child(3) { animation: equalizer 1s infinite alternate ease-in-out; }
    .playing .bar:nth-child(4) { animation: equalizer 0.7s infinite alternate ease-in-out; }
    .playing .bar:nth-child(5) { animation: equalizer 0.9s infinite alternate ease-in-out; }

    .media-list {
      width: 100%;
      max-width: 800px;
      margin-bottom: 30px;
    }

    .media-list h2 {
      font-size: 1.8em;
      margin-bottom: 15px;
      border-bottom: 2px solid var(--primary-color);
      padding-bottom: 5px;
    }

    .card-container {
      display: flex;
      overflow-x: auto;
      gap: 20px;
      padding-bottom: 10px;
      -webkit-overflow-scrolling: touch;
    }

    .media-list {
      max-height: 420px;
    }

    .card {
      background-color: var(--surface-color);
      border-radius: 10px;
      overflow: hidden;
      cursor: pointer;
      transition: transform 0.3s ease, box-shadow 0.3s ease;
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
      flex: 0 0 auto;
      width: 150px;
    }

    .card:hover {
      transform: translateY(-5px);
      box-shadow: 0 6px 12px rgba(0, 123, 255, 0.4);
    }

    .card img {
      width: 100%;
      aspect-ratio: 1/1;
      object-fit: cover;
    }

    .card-info {
      padding: 15px;
      text-align: center;
    }

    .card-info p {
      font-weight: 500;
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;
    }

    audio {
      display: none;
    }

    .artist-controls {
      display: flex;
      align-items: center;
    }

    .artist-controls button {
      margin: 0 5px;
    }

    .loop-button.active svg {
      fill: var(--accent-color);
    }

    @media (max-width: 768px) {
      .card {
        width: calc(33.333% - 14px);
      }
      .media-list {
        max-height: 300px;
      }
    }
  </style>
</head>
<body>
  <header>
    <h1>Rádios e Seleções</h1>
  </header>

  <div class="search-container">
    <input type="text" id="search-input" placeholder="Buscar rádio, artista ou música..." oninput="searchMedia()">
  </div>

  <div class="player-container">
    <div class="current-playing">
      <img id="current-media-img" src="https://imgur.com/qFmcbT0.png" alt="Capa da Mídia">
      <div class="current-playing-info">
        <h2 id="current-media-name">Selecione uma rádio ou artista</h2>
        <p id="current-track-name"></p>
      </div>
      <div class="progress-bar" id="progress-bar" style="display: none;">
        <input type="range" id="progress" min="0" max="100" value="0" oninput="setProgress(this.value)">
      </div>
    </div>
    <div class="player-controls">
      <button id="play-pause-button" onclick="togglePlay()">
        <svg viewBox="0 0 24 24">
          <path d="M8 5v14l11-7z"/>
        </svg>
      </button>
      <button id="stop-button" onclick="stopAudio()">
        <svg viewBox="0 0 24 24">
          <path d="M6 6h12v12H6z"/>
        </svg>
      </button>
      <div id="artist-controls" class="artist-controls" style="display: none;">
        <button id="prev-button" onclick="playPrevious()">
          <svg viewBox="0 0 24 24">
            <path d="M15.41 16.59L10.83 12l4.58-4.59L14 6l-6 6 6 6 1.41-1.41z"/>
          </svg>
        </button>
        <button id="next-button" onclick="playNext()">
          <svg viewBox="0 0 24 24">
            <path d="M8.59 16.59L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.41z"/>
          </svg>
        </button>
        <button id="loop-button" onclick="toggleLoop()" class="loop-button">
          <svg viewBox="0 0 24 24">
            <path d="M12 4V1L8 5l4 4V6c3.31 0 6 2.69 6 6 0 1.01-.25 1.97-.7 2.8l1.46 1.46A7.93 7.93 0 0020 12c0-4.42-3.58-8-8-8zm0 14c-3.31 0-6-2.69-6-6 0-1.01.25-1.97.7-2.8L5.24 7.74A7.93 7.93 0 004 12c0 4.42 3.58 8 8 8v3l4-4-4-4v3z"/>
          </svg>
        </button>
      </div>
    </div>
    <div class="volume-control">
      <svg viewBox="0 0 24 24">
        <path d="M3 9v6h4l5 5V4L7 9H3zm13.5 3c0-1.77-1.02-3.29-2.5-4.03v8.05c1.48-.73 2.5-2.25 2.5-4.02zM14 3.23v2.06c2.89.86 5 3.54 5 6.71s-2.11 5.85-5 6.71v2.06c4.01-.91 7-4.49 7-8.77s-2.99-7.86-7-8.77z"/>
      </svg>
      <input type="range" id="volume" min="0" max="1" step="0.05" value="1" onchange="setVolume(this.value)">
      <div class="wave">
        <div class="bar"></div>
        <div class="bar"></div>
        <div class="bar"></div>
        <div class="bar"></div>
        <div class="bar"></div>
      </div>
    </div>
  </div>

  <div class="media-list">
    <h2>Rádios</h2>
    <div id="radio-list" class="card-container">
      <!-- Os cards serão inseridos via JavaScript -->
    </div>
  </div>

  <div class="media-list">
    <h2>Artistas</h2>
    <div id="artist-list" class="card-container">
      <!-- Os cards serão inseridos via JavaScript -->
    </div>
  </div>

  <div class="media-list">
    <h2>Estrangeiros</h2>
    <div id="foreign-list" class="card-container">
      <!-- Os cards serão inseridos via JavaScript -->
    </div>
  </div>

  <audio id="audio-player"></audio>

  <script>
    const audioPlayer = document.getElementById("audio-player");
    const playPauseButton = document.getElementById("play-pause-button");
    const stopButton = document.getElementById("stop-button");
    const prevButton = document.getElementById("prev-button");
    const nextButton = document.getElementById("next-button");
    const loopButton = document.getElementById("loop-button");
    const volumeControl = document.getElementById("volume");
    const waveContainer = document.querySelector(".wave");
    const currentMediaImg = document.getElementById("current-media-img");
    const currentMediaName = document.getElementById("current-media-name");
    const currentTrackName = document.getElementById("current-track-name");
    const radioListContainer = document.getElementById("radio-list");
    const artistListContainer = document.getElementById("artist-list");
    const foreignListContainer = document.getElementById("foreign-list");
    const artistControls = document.getElementById("artist-controls");
    const progressBar = document.getElementById("progress-bar");
    const progress = document.getElementById("progress");
    const searchInput = document.getElementById("search-input");

    let isPlaying = false;
    let isLooping = false;
    let currentTrackIndex = 0;
    let currentPlaylist = [];
    let currentMediaType = null;
    let currentMediaInfo = {};

    const radios = [
      { name: '93', url: 'https://ice.fabricahost.com.br/93fmpedroleopoldo', img: 'https://tudoradio.com/img/uploads/radios/630e1265d0536.png' },
      { name: '107', url: 'https://stm3.srvif.com:8304/;?1739044785612', img: 'https://tudoradio.com/img/imagecache/90x90_61e9b85ad77f5.png' },
      { name: 'Alvorada', url: 'https://24223.live.streamtheworld.com/RADIO_ALVORADAAAC.aac', img: 'https://cdn-profiles.tunein.com/s10496/images/logoq.png' },
      { name: 'Antena 1', url: 'https://antenaone.crossradio.com.br/stream/1;', img: 'https://img.radios.com.br/radio/xl/radio9505_1574106966.jpg' },
      { name: 'Atividade', url: 'https://radios.cabreuvoip.com.br:8018/;stream.mp3', img: 'https://www.cxradio.com.br/img/Radio/Logo/fbd7e21a09dd17c8ad10432d7261a0b8.jpg' },
      { name: 'BHFM', url: 'https://27343.live.streamtheworld.com/BHFMAAC.aac', img: 'https://static.mytuner.mobi/media/tvos_radios/270/radio-bh-fm.8e19aa97.png' },
      { name: 'Canção Nova', url: 'https://streaming.fox.srv.br:8104/stream', img: 'https://img.radios.com.br/radio/xl/radio11126_1445520919.jpg' },
      { name: '90s', url: 'https://90.streeemer.com:8000/radio.aac', img: 'https://static.mytuner.mobi/media/tvos_radios/672/love-90s-portugal.6f1135d3.png' }
    ];

    const artists = [
      { name: 'Ana Carolina', img: 'https://album1.cdn107.com/4e/f8/4ef878977df175cd8c76927e709b79da_xl.jpg?i=1', tracks: [
          { title: "01.09 Pra Rua Me Levar",  url: "https://mp3-128.jango.com/music/04/35/89/0435892346.mp3" },
          { title: "02.09 Garganta",  url: "https://mp3-128.jango.com/music/01/00/70/0100706959.mp3" },
          { title: "03.09 É Isso Aí",  url: "https://m4a-64.jango.com/31/98/78/3198787425926734387.m4a" },
          { title: "04.09 Confesso",  url: "https://mp3-128.jango.com/music/13/81/35/1381352055.mp3" },
          { title: "05.09 Beatriz",  url: "https://mp3-128.jango.com/music/05/26/83/0526835211.mp3" },
          { title: "06.09 O Avesso Dos Ponteiros",  url: "https://mp3-128.jango.com/music/08/88/46/0888464045.mp3" },
          { title: "07.09 Encostar Na Tua",  url: "https://mp3-128.jango.com/music/18/27/44/1827442762.mp3" },
          { title: "08.09 Nada Pra Mim",  url: "https://mp3-128.jango.com/music/10/90/24/1090243266.mp3" },
          { title: "09.09 Nua",  url: "https://mp3-128.jango.com/music/01/27/22/0127220480.mp3" }
      ]},
      { name: 'Barão Vermelho', img: 'https://album1.cdn107.com/f5/d9/f5d9e6e6df4c95983de385f44946f1d9_xl.jpg?i=1', tracks: [
          { title: "01.05 Bete Balanco",  url: "https://mp3-128.jango.com/music/12/12/92/1212920199.mp3" },
          { title: "02.05 Por Voce",  url: "https://mp3-128.jango.com/music/20/34/44/2034443176.mp3" },
          { title: "03.05 Meus Bons Amigos",  url: "https://mp3-128.jango.com/music/18/87/37/1887374012.mp3" },
          { title: "04.05 Puro Extase",  url: "https://mp3-128.jango.com/music/02/61/97/0261976471.mp3" },
          { title: "05.05 O poeta está vivo",  url: "https://mp3-128.jango.com/music/02/80/52/0280524976.mp3" }
      ]},
      { name: 'Capital Inicial', img: 'https://album1.cdn107.com/2b/a9/2ba95566e5aa79e3cb95ba3f91a88abd_xl.jpg?i=1', tracks: [
          { title: "01.07 Eu Vou Estar",  url: "https://mp3-128.jango.com/music/07/89/83/0789838756.mp3" },
          { title: "02.07 Natasha",  url: "https://mp3-128.jango.com/music/20/99/83/2099831426.mp3" },
          { title: "03.07 Fogo",  url: "https://mp3-128.jango.com/music/19/82/07/1982072327.mp3" },
          { title: "04.07 A Sua Maneira",  url: "https://mp3-128.jango.com/music/03/77/09/0377092644.mp3" },
          { title: "05.07 Inocente",  url: "https://mp3-128.jango.com/music/11/12/56/1112566856.mp3" },
          { title: "06.07 Tudo Que Vai",  url: "https://mp3-128.jango.com/music/13/59/30/1359309700.mp3" },
          { title: "07.07 Independência",  url: "https://mp3-128.jango.com/music/19/61/51/1961516958.mp3" }
      ]},
      { name: 'Cássia Eller', img: 'https://album1.cdn107.com/2b/2b/2b2bb1618b1be576fdaa3d7668855c50_xl.jpg?i=1', tracks: [
          { title: "01.07 Palavras Ao Vento",  url: "https://mp3-128.jango.com/music/05/01/61/0501615971.mp3" },
          { title: "02.07 O Segundo Sol",  url: "https://mp3-128.jango.com/music/06/27/33/0627339709.mp3" },
          { title: "03.07 Luz Dos Olhos",  url: "https://mp3-128.jango.com/music/19/78/59/1978599363.mp3" },
          { title: "04.07 E.C.T.",  url: "https://mp3-128.jango.com/music/07/42/62/0742621349.mp3" },
          { title: "05.07 Malandragem",  url: "https://mp3-128.jango.com/music/07/26/73/0726730763.mp3" },
          { title: "06.07 Partido Alto",  url: "https://mp3-128.jango.com/music/03/85/67/0385673741.mp3" },
          { title: "07.07 Por Enquanto",  url: "https://mp3-128.jango.com/music/00/91/48/0091483067.mp3" }
      ]},
      { name: 'Cazuza', img: 'https://album1.cdn107.com/0e/6a/0e6a89ba6cc213a946123ff75677e363_xl.jpg?i=1', tracks: [
          { title: "01.07 Brasil",  url: "https://mp3-128.jango.com/music/01/51/91/0151919935.mp3" },
          { title: "02.07 Boas Novas",  url: "https://mp3-128.jango.com/music/16/79/15/1679152146.mp3" },
          { title: "03.07 Codinome Beija-Flor",  url: "https://mp3-128.jango.com/music/01/06/00/01060069890.mp3" },
          { title: "04.07 O Tempo Não Pára",  url: "https://mp3-128.jango.com/music/09/89/53/0989533586.mp3" },
          { title: "05.07 Ideologia",  url: "https://mp3-128.jango.com/music/19/32/15/1932157466.mp3" },
          { title: "06.07 Vida Louca Vida",  url: "https://mp3-128.jango.com/music/04/28/29/0428295847.mp3" },
          { title: "07.07 Faz Parte Do Meu Show",  url: "https://mp3-128.jango.com/music/03/86/26/0386262732.mp3" }
      ]},
      { name: 'Kid Abelha', img: 'https://album1.cdn107.com/29/ab/29ab09c6e6624c2d3561ae62d752bc9e_xl.jpg?i=1', tracks: [
          { title: "01.08 Brasil",  url: "https://mp3-128.jango.com/music/04/25/44/0425442988.mp3" },
          { title: "02.08 Como Eu Quero",  url: "https://mp3-128.jango.com/music/21/33/62/2133626080.mp3" },
          { title: "03.08 No seu lugar",  url: "https://mp3-128.jango.com/music/17/11/01/1711014499.mp3" },
          { title: "04.08 Maio",  url: "https://mp3-128.jango.com/music/10/67/15/1067158172.mp3" },
          { title: "05.08 Quero te encontrar",  url: "https://mp3-128.jango.com/music/16/82/51/1682516499.mp3" },
          { title: "06.08 Na Rua Na Chuva Na Fazenda",  url: "https://mp3-128.jango.com/music/12/32/62/1232629351.mp3" },
          { title: "07.08 Eu Tive Um Sonho",  url: "https://mp3-128.jango.com/music/01/06/59/0106599356.mp3" },
          { title: "08.08 Nada Sei",  url: "https://mp3-128.jango.com/music/00/78/82/0078827556.mp3" }
      ]},
      { name: 'Luciana Mello', img: 'https://i.scdn.co/image/ab67616d0000b273dfa9be216bac3ef369f7d429', tracks: [
          { title: "01.04 Simples desejo",  url: "https://mp3-128.jango.com/music/01/02/47/0102474263.mp3" },
          { title: "02.04 As Rosas não Falam",  url: "https://mp3-128.jango.com/music/09/84/37/0984371998.mp3" },
          { title: "03.04 Sem Tempo a Perder",  url: "https://mp3-128.jango.com/music/12/70/08/1270080785.mp3" },
          { title: "04.04 Prazer e Luz",  url: "https://mp3-128.jango.com/music/04/87/17/0487174891.mp3" }
      ]},
      { name: 'Maria Gadú', img: 'https://album1.cdn107.com/8d/b0/8db0aeabf2ac55b4b33842545a0b2c4f_xl.jpg?i=1', tracks: [
          { title: "Shimbalaiê",  url: "https://mp3-128.jango.com/music/13/22/99/1322993138.mp3" },
          { title: "Escudos",  url: "https://mp3-128.jango.com/music/07/56/22/0756221456.mp3" },
          { title: "Lounge",  url: "https://mp3-128.jango.com/music/16/89/73/1689730223.mp3" },
          { title: "Bela Flor",  url: "https://mp3-128.jango.com/music/05/44/35/0544351981.mp3" },
          { title: "Dona Cila",  url: "https://mp3-128.jango.com/music/06/94/31/0694311488.mp3" },
          { title: "Altar Particular",  url: "https://mp3-128.jango.com/music/08/15/56/0815565100.mp3" }
        ]}
      ];

    const foreigners = [
      { name: 'Enya', img: 'https://album1.cdn107.com/b5/fe/b5fe4b1fb3f79463080f1a2e06de8e3b_xl.jpg', tracks: [
          { title: "01.64 I Want Tomorrow", url: "https://mp3-128.jango.com/music/05/20/07/0520072108.mp3" },
          { title: "02.64 March of the Celts", url: "https://mp3-128.jango.com/music/08/04/57/0804572890.mp3" },
          { title: "03.64 Fairytale", url: "https://mp3-128.jango.com/music/03/12/62/0312627020.mp3" },
          { title: "04.64 Triad St. Patrick Cú Chulainn Oisin", url: "https://mp3-128.jango.com/music/01/83/86/0183861221.mp3" },
          { title: "05.64 Portrait (Out of the Blue)", url: "https://mp3-128.jango.com/music/00/23/23/0023238446.mp3" },
          { title: "06.64 Boadicea", url: "https://m4a-64.jango.com/17/70/58/1770582298471357748.m4a" },
          { title: "07.64 Watermark", url: "https://m4a-64.jango.com/41/47/74/4147740902272012987.m4a" },
          { title: "08.64 Cursum Perficio", url: "https://mp3-128.jango.com/music/04/92/23/0492231527.mp3" },
          { title: "09.64 On Your Shore", url: "https://mp3-128.jango.com/music/04/87/36/0487366014.mp3" },
          { title: "10.64 Storms in Africa", url: "https://m4a-64.jango.com/25/36/77/2536771226851486384.m4a" },
          { title: "11.64 Exile", url: "https://m4a-64.jango.com/17/48/18/174818287533599606.m4a" },
          { title: "12.64 Orinoco Flow", url: "https://m4a-64.jango.com/62/68/51/626851622003071289.m4a" },
          { title: "13.64 Evening Falls", url: "https://m4a-64.jango.com/34/91/91/3491910010791578203.m4a" },
          { title: "14.64 River", url: "https://mp3-128.jango.com/music/07/88/32/0788320179.mp3" },
          { title: "15.64 The Longships", url: "https://mp3-128.jango.com/music/04/44/29/0444295676.mp3" },
          { title: "16.64 Shepherd Moons", url: "https://m4a-64.jango.com/12/11/93/1211930281.m4a" },
          { title: "17.64 Caribbean Blue", url: "https://m4a-64.jango.com/05/30/86/0530865221.m4a" },
          { title: "18.64 Ebudæ", url: "https://m4a-64.jango.com/39/28/50/3928507631726450107.m4a" },
          { title: "19.64 Angeles", url: "https://m4a-64.jango.com/19/50/09/1950095749.m4a" },
          { title: "20.64 No Holly for Miss Quinn", url: "https://m4a-64.jango.com/08/02/34/0802347357.m4a" },
          { title: "21.64 Book of Days", url: "https://m4a-64.jango.com/14/90/57/1490579285762343922.m4a" },
          { title: "22.64 Evacuee", url: "https://m4a-64.jango.com/07/89/85/0789856128.m4a" },
          { title: "23.64 Lothlorien", url: "https://m4a-64.jango.com/04/72/58/0472587582.m4a" },
          { title: "24.64 Marble Halls", url: "https://m4a-64.jango.com/17/51/08/1751082508.m4a" },
          { title: "25.64 Afer Ventus", url: "https://m4a-64.jango.com/05/09/15/0509152837.m4a" },
          { title: "26.64 Smaointe", url: "https://m4a-64.jango.com/26/64/56/2664560518326216339.m4a" },
          { title: "27.64 A Day Without Rain", url: "https://m4a-64.jango.com/43/16/32/4316321668147821252.m4a" },
          { title: "28.64 Wild Child", url: "https://m4a-64.jango.com/31/59/73/3159736114561251639.m4a" },
          { title: "29.64 Only Time", url: "https://m4a-64.jango.com/21/26/73/2126735501771635007.m4a" },
          { title: "30.64 Tempus Vernum", url: "https://mp3-128.jango.com/music/03/70/27/0370278836.mp3" },
          { title: "31.64 Flora's Secret", url: "https://mp3-128.jango.com/music/09/00/56/0900560899.mp3" },
          { title: "32.64 Fallen Embers", url: "https://mp3-128.jango.com/music/15/11/89/1511898435.mp3" },
          { title: "33.64 Silver Inches", url: "https://mp3-128.jango.com/music/17/78/28/1778287501.mp3" },
          { title: "34.64 Pilgrim", url: "https://mp3-128.jango.com/music/16/19/78/1619783871.mp3" },
          { title: "35.64 One by One", url: "https://mp3-128.jango.com/music/10/09/93/1009933249.mp3" },
          { title: "36.64 Lazy Days", url: "https://mp3-128.jango.com/music/21/46/22/2146226226.mp3" },
          { title: "37.64 Less Than a Pearl", url: "https://m4a-64.jango.com/06/76/43/0676436084.m4a" },
          { title: "38.64 Amarantine", url: "https://m4a-64.jango.com/08/33/14/0833140462.m4a" },
          { title: "39.64 It's in the Rain", url: "https://m4a-64.jango.com/08/18/03/0818034667.m4a" },  
          { title: "40.64 If I Could Be Where You Are", url: "https://m4a-64.jango.com/32/38/94/3238948882.m4a" },
          { title: "41.64 The River Sings", url: "https://m4a-64.jango.com/46/02/92/4602928525.m4a" },
          { title: "42.64 Long Long Journey", url: "https://m4a-64.jango.com/45/26/64/4526648832.m4a" },
          { title: "43.64 Sumiregusa", url: "https://m4a-64.jango.com/25/97/77/2597770317.m4a" },
          { title: "44.64 Someone Said Goodbye", url: "https://m4a-64.jango.com/36/99/38/3699381014.m4a" },
          { title: "45.64 A Moment Lost", url: "https://m4a-64.jango.com/08/82/26/0882262439.m4a" },
          { title: "46.64 Drifting", url: "https://m4a-64.jango.com/27/17/01/2717010198.m4a" },
          { title: "47.64 Amid the Falling Snow", url: "https://m4a-64.jango.com/32/11/39/3211394898.m4a" },
          { title: "48.64 Water Shows the Hidden Heart", url: "https://m4a-64.jango.com/28/01/30/2801306974.m4a" },
          { title: "49.64 My! My! Time Flies!", url: "https://mp3-128.jango.com/music/36/95/91/3695912351.mp3" },
          { title: "50.64 The Comb Of The Winds", url: "https://m4a-64.jango.com/38/47/60/384760195773536521.m4a" },
          { title: "51.64 Journey Of The Angels", url: "https://m4a-64.jango.com/03/61/36/0361360326.m4a" },
          { title: "52.64 White Is In The Winter Night", url: "https://m4a-64.jango.com/02/40/26/0240262713.m4a" },
          { title: "53.64 Trains And Winter Rains", url: "https://m4a-64.jango.com/07/95/62/0795626260.m4a" },
          { title: "54.64 One Toy Soldier", url: "https://m4a-64.jango.com/07/65/82/0765822510.m4a" },
          { title: "55.64 The Memory of Trees", url: "https://mp3-128.jango.com/music/02/87/32/0287325259.mp3" },
          { title: "56.64 Anywhere Is", url: "https://m4a-64.jango.com/25/02/34/2502340159256350054.m4a" },
          { title: "57.64 Pax Deorum", url: "https://m4a-64.jango.com/25/82/27/2582278555889297558.m4a" },
          { title: "58.64 Athair Ar Neamh", url: "https://m4a-64.jango.com/23/21/08/2321089019088400181.m4a" },
          { title: "59.64 China Roses", url: "https://m4a-64.jango.com/19/94/54/1994545199333651727.m4a" },
          { title: "60.64 Hope Has a Place", url: "https://m4a-64.jango.com/32/58/96/3258964770194102160.m4a" },
          { title: "61.64 La Sonadora", url: "https://m4a-64.jango.com/14/86/14/1486145169563100851.m4a" },
          { title: "62.64 Paint The Sky With Stars", url: "https://mp3-128.jango.com/music/04/87/59/0487593440.mp3" },
          { title: "63.64 Only If", url: "https://mp3-128.jango.com/music/01/70/21/0170212337.mp3" },
          { title: "64.64 Aníron Theme Of Aragorn & Arwen", url: "https://mp3-128.jango.com/music/09/79/59/0979597121.mp3" }
      ]},
      { name: 'Era', img: 'https://album99.cdn107.com/4f/7b/4f7b2966f213e619b3cf268972004a03_xl.jpg', tracks: [
          { title: "01.17 Hino", url: "https://mp3-128.jango.com/music/10/54/94/1054945929.mp3" },
          { title: "02.17 Frase", url: "https://mp3-128.jango.com/music/06/05/56/0605561827.mp3" },
          { title: "03.17 Sentence", url: "https://mp3-128.jango.com/music/06/05/56/0605561827.mp3" },
          { title: "04.17 The Mass", url: "https://m4a-64.jango.com/37/48/68/374868932448322724.m4a" },
          { title: "05.17 Don't Go Away", url: "https://mp3-128.jango.com/music/02/10/64/0210642648.mp3" },
          { title: "06.17 Prayers", url: "https://mp3-128.jango.com/music/10/20/49/1020494106.mp3" },
          { title: "07.17 Epona", url: "https://mp3-128.jango.com/music/08/27/00/0827006931.mp3" },
          { title: "08.17 Don't U", url: "https://mp3-128.jango.com/music/06/38/81/0638813638.mp3" },
          { title: "09.17 Thousand Words", url: "https://mp3-128.jango.com/music/09/31/04/0931048092.mp3" },
          { title: "10.17 Divano", url: "https://mp3-128.jango.com/music/05/65/36/0565360562.mp3" },
          { title: "11.17 Looking For Something", url: "https://mp3-128.jango.com/music/09/74/54/0974547952.mp3" },
          { title: "12.17 Enae Volare", url: "https://mp3-128.jango.com/music/01/55/24/0155241060.mp3" },
          { title: "13.17 Cathar Rhythm", url: "https://mp3-128.jango.com/music/09/43/68/0943689102.mp3" },
          { title: "14.17 Come Into My World", url: "https://mp3-128.jango.com/music/06/15/65/0615659364.mp3" },
          { title: "15.17 Mother (Remix)", url: "https://mp3-128.jango.com/music/00/33/78/0033789117.mp3" },
          { title: "16.17 Hymne", url: "https://mp3-128.jango.com/music/10/54/94/1054945929.mp3" },
          { title: "17.17 Misere Mani", url: "https://mp3-128.jango.com/music/08/30/83/0830830102.mp3" }
      ]},
      { name: 'Enigma', img: 'https://album99.cdn107.com/8d/52/8d52551804ef8875c75e7b893e56330e_xl.jpg', tracks: [
          { title: "01.03 Return to Innocence", url: "https://m4a-64.jango.com/20/25/32/2025329445081126901.m4a" },
          { title: "02.03 Gravity of Love", url: "https://mp3-128.jango.com/music/02/32/83/0232833189.mp3" },
          { title: "03.03 Silent Warrior", url: "https://mp3-128.jango.com/music/10/25/05/1025052160.mp3" }
      ]},
      { name: 'Secret Garden', img: 'https://album1.cdn107.com/35/f5/35f5a431e6e08446df71213d78fbf262_xl.jpg', tracks: [
          { title: "01.10 Elan",  url: "https://m4a-64.jango.com/09/28/19/0928199575.m4a" },
          { title: "02.10 Nocturne",  url: "https://mp3-128.jango.com/music/04/92/65/0492656585.mp3" },
          { title: "03.10 Sigma",  url: "https://mp3-128.jango.com/music/08/90/49/0890495627.mp3" },
          { title: "04.10 From A Secret Garden",  url: "https://m4a-64.jango.com/22/10/06/2210064135617701292.m4a" },
          { title: "05.10 Adagio",  url: "https://mp3-128.jango.com/music/07/56/11/0756115680.mp3" },
          { title: "06.10 Elan",  url: "https://m4a-64.jango.com/09/28/19/0928199575.m4a" },
          { title: "07.10 Celebration",  url: "https://mp3-128.jango.com/music/03/68/75/0368753541.mp3" },
          { title: "08.10 Sona",  url: "https://m4a-64.jango.com/25/50/08/2550083934556081296.m4a" },
          { title: "09.10 Sometimes When It Rains",  url: "https://m4a-64.jango.com/02/26/68/0226689738.m4a" },
          { title: "10.10 Sleepsong",  url: "https://m4a-64.jango.com/01/19/38/0119384968.m4a" }
      ]}

    ];


    function createCard(item, type) {
      const card = document.createElement('div');
      card.classList.add('card');
      card.onclick = () => {
        if (type === 'radio') {
          playRadio(item);
        } else if (type === 'artist') {
          playArtist(item);
        } else if (type === 'foreign') {
          playArtist(item);
        }
        document.title = `Rádios e Seleções - ${item.name}`;
        window.scrollTo(0, 0);
      };

      const img = document.createElement('img');
      img.src = item.img;
      img.alt = item.name;

      const info = document.createElement('div');
      info.classList.add('card-info');

      const name = document.createElement('p');
      name.textContent = item.name;

      info.appendChild(name);
      card.appendChild(img);
      card.appendChild(info);
      return card;
    }

    function loadMediaLists() {
      radios.forEach(radio => {
        radioListContainer.appendChild(createCard(radio, 'radio'));
      });
      artists.forEach(artist => {
        artistListContainer.appendChild(createCard(artist, 'artist'));
      });
      foreigners.forEach(foreign => {
        foreignListContainer.appendChild(createCard(foreign, 'foreign'));
      });
    }

    function updatePlayPauseIcon() {
      const iconPath = isPlaying
        ? "M6 19h4V5H6v14zm8-14v14h4V5h-4z"
        : "M8 5v14l11-7z";
      playPauseButton.innerHTML = `<svg viewBox="0 0 24 24"><path d="${iconPath}"/></svg>`;
    }

    function updateLoopButton() {
      loopButton.classList.toggle('active', isLooping);
    }

    function updateUI() {
      currentMediaImg.src = currentMediaInfo.img || "https://imgur.com/qFmcbT0.png";
      currentMediaName.textContent = currentMediaInfo.name || "Selecione uma rádio ou artista";
      currentTrackName.textContent = currentMediaInfo.trackTitle || '';
      artistControls.style.display = currentMediaType === 'artist' || currentMediaType === 'foreign' ? 'flex' : 'none';
      progressBar.style.display = currentMediaType === 'artist' || currentMediaType === 'foreign' ? 'block' : 'none';
      updatePlayPauseIcon();
      updateLoopButton();
      waveContainer.classList.toggle('playing', isPlaying);
    }

    function playRadio(radio) {
      stopAudio();
      currentMediaType = 'radio';
      currentMediaInfo = { name: radio.name, img: radio.img };
      audioPlayer.src = radio.url;
      audioPlayer.play().then(() => {
        isPlaying = true;
        updateUI();
      }).catch(error => {
        console.error("Erro ao reproduzir rádio:", error);
        currentTrackName.textContent = "Erro ao carregar rádio.";
        isPlaying = false;
        updateUI();
      });
    }

    function playArtist(artist) {
      stopAudio();
      currentMediaType = 'artist';
      currentPlaylist = artist.tracks;
      currentTrackIndex = artist.searchTrackIndex !== undefined ? artist.searchTrackIndex : 0;
      currentMediaInfo = { name: artist.name, img: artist.img };
      if (currentPlaylist.length > 0) {
        playTrack();
      } else {
        currentTrackName.textContent = "Nenhuma música disponível.";
        updateUI();
      }
    }

    function playTrack() {
      if (currentTrackIndex >= currentPlaylist.length) {
        if (isLooping) {
          currentTrackIndex = 0;
        } else {
          isPlaying = false;
          currentMediaInfo.trackTitle = '';
          updateUI();
          return;
        }
      }
      const track = currentPlaylist[currentTrackIndex];
      currentMediaInfo.trackTitle = track.title;
      audioPlayer.src = track.url;
      audioPlayer.play().then(() => {
        isPlaying = true;
        updateUI();
      }).catch(error => {
        console.error("Erro ao reproduzir faixa:", error);
        currentTrackName.textContent = "Erro ao carregar música.";
        isPlaying = false;
        updateUI();
      });
    }

    function togglePlay() {
      if (!audioPlayer.src) return;
      if (isPlaying) {
        audioPlayer.pause();
      } else {
        audioPlayer.play();
      }
      isPlaying = !isPlaying;
      updateUI();
    }

    function stopAudio() {
      audioPlayer.pause();
      audioPlayer.currentTime = 0;
      isPlaying = false;
      currentMediaInfo.trackTitle = '';
      if (currentMediaType === 'radio') {
        audioPlayer.src = '';
      }
      updateUI();
    }

    function setVolume(value) {
      audioPlayer.volume = value;
    }

    function setProgress(value) {
      const duration = audioPlayer.duration;
      audioPlayer.currentTime = (value / 100) * duration;
    }

    function updateProgress() {
      if (currentMediaType === 'artist' || currentMediaType === 'foreign') {
        const currentTime = audioPlayer.currentTime;
        const duration = audioPlayer.duration;
        progress.value = (currentTime / duration) * 100;
      }
    }

    function playNext() {
      if ((currentMediaType !== 'artist' && currentMediaType !== 'foreign') || currentPlaylist.length === 0) return;
      currentTrackIndex++;
      playTrack();
    }

    function playPrevious() {
      if ((currentMediaType !== 'artist' && currentMediaType !== 'foreign') || currentPlaylist.length === 0) return;
      currentTrackIndex--;
      if (currentTrackIndex < 0) {
        currentTrackIndex = currentPlaylist.length - 1;
      }
      playTrack();
    }

    function toggleLoop() {
      isLooping = !isLooping;
      updateLoopButton();
    }

    function searchMedia() {
      const query = searchInput.value.toLowerCase();
      const results = [];
      const addedArtists = new Set();

      // Buscar rádios
      radios.forEach(radio => {
        if (radio.name.toLowerCase().includes(query)) {
          results.push(radio);
        }
      });

      // Buscar artistas e músicas
      artists.forEach(artist => {
        if (addedArtists.has(artist.name)) return;

        let artistAdded = false;
        const matchingTracks = [];

        // Verificar nome do artista
        if (artist.name.toLowerCase().includes(query)) {
          results.push(artist);
          addedArtists.add(artist.name);
          artistAdded = true;
        }

        // Verificar músicas do artista
        if (!artistAdded) {
          artist.tracks.forEach((track, trackIndex) => {
            if (track.title.toLowerCase().includes(query)) {
              matchingTracks.push(trackIndex);
            }
          });

          if (matchingTracks.length > 0) {
            const artistCopy = { 
              ...artist, 
              searchTrackIndex: matchingTracks[0] 
            };
            results.push(artistCopy);
            addedArtists.add(artist.name);
          }
        }
      });

      // Buscar estrangeiros e músicas
      foreigners.forEach(foreign => {
        if (addedArtists.has(foreign.name)) return;

        let foreignAdded = false;
        const matchingTracks = [];

        // Verificar nome do estrangeiro
        if (foreign.name.toLowerCase().includes(query)) {
          results.push(foreign);
          addedArtists.add(foreign.name);
          foreignAdded = true;
        }

        // Verificar músicas do estrangeiro
        if (!foreignAdded) {
          foreign.tracks.forEach((track, trackIndex) => {
            if (track.title.toLowerCase().includes(query)) {
              matchingTracks.push(trackIndex);
            }
          });

          if (matchingTracks.length > 0) {
            const foreignCopy = { 
              ...foreign, 
              searchTrackIndex: matchingTracks[0] 
            };
            results.push(foreignCopy);
            addedArtists.add(foreign.name);
          }
        }
      });

      // Atualizar listas
      radioListContainer.innerHTML = '';
      artistListContainer.innerHTML = '';
      foreignListContainer.innerHTML = '';

      results.forEach(media => {
        if (media.url) {
          radioListContainer.appendChild(createCard(media, 'radio'));
        } else if (artists.includes(media)) {
          artistListContainer.appendChild(createCard(media, 'artist'));
        } else {
          foreignListContainer.appendChild(createCard(media, 'foreign'));
        }
      });
    }

    audioPlayer.onended = () => {
      if (currentMediaType === 'artist' || currentMediaType === 'foreign') {
        playNext();
      } else {
        isPlaying = false;
        updateUI();
      }
    };

    audioPlayer.ontimeupdate = updateProgress;

    // Inicialização
    loadMediaLists();
    setVolume(volumeControl.value);
  </script>
</body>
</html>
